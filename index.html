<!DOCTYPE html>
<!--[if IE 6]><html lang="en" class="preIE7 preIE8 preIE9 preIE10 preIE11"><![endif]-->
<!--[if IE 7]><html lang="en" class="preIE8 preIE9 preIE10 preIE11"><![endif]-->
<!--[if IE 8]><html lang="en" class="preIE9 preIE10 preIE11"><![endif]-->
<!--[if IE 9]><html lang="en" class="preIE10 preIE11"><![endif]-->
<!--[if IE 10]><html lang="en" class="preIE11"><![endif]-->
<!--[if gte IE 11]><!--><html lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<!-- browser/device compatibility stuff -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="HandheldFriendly" content="True"/>
<meta name="format-detection" content="telephone=no">
<!-- page info -->
<title>Homepage | mdsh</title>
<meta name="description" content="mdsh - a simple static site generator for modern websites, written in Bash.">
<meta name="keywords" content="mdsh, static site generator, project page, open source, blog, news, feed">
<meta name="news_keywords" content="mdsh, static site generator, project page, open source, blog, news, feed">
<meta name="subject" content="mdsh, static site generator, project page, open source, blog, news, feed">
<meta name="generator" content="mdsh">
<meta name="medium" content="blog">
<meta name="copyright" content="&copy; mdsh">
<meta name="language" content="en">
<meta name="robots" content="index,follow">
<meta name="topic" content="mdsh, static site generator, project page, open source, blog, news, feed">
<meta name="owner" content="sc0ttj">
<meta name="pagename" content="Homepage">
<!-- Apple -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="mdsh">
<!-- Facebook -->
<meta property="og:title" content="Homepage">
<meta property="og:description" content="mdsh - a simple static site generator for modern websites, written in Bash.">
<meta property="og:url" content="https://sc0ttj.github.io/mdsh">
<meta property="og:site_name" content="mdsh">
<meta property="og:type" content="article">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://sc0ttj.github.io/mdsh/assets/icons/rss.png">
<meta property="article:author" content="sc0ttj">
<meta property="article:section" content="">
<meta property="article:published_time" content="">
<meta property="article:modified_time" content="2019-08-02T23:31:43Z">
<!-- Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Homepage">
<meta name="twitter:site" content="@foobar">
<meta name="twitter:creator" content="@foobar">
<meta name="twitter:image" content="https://sc0ttj.github.io/mdsh/assets/icons/rss.png">
<meta name="twitter:domain" content="https://sc0ttj.github.io/mdsh">
<!-- Linked data -->
<script id="site-search-ld" type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "WebSite",
  "name": "mdsh",
  "url": "https://sc0ttj.github.io/mdsh",
  "potentialAction": {
      "@type": "SearchAction",
      "target": "https://sc0ttj.github.io/mdsh/search.html?q={search_term}",
      "query-input": "required name=search_term"
  }
}</script>
<script id="meta-ld" type="application/ld+json">
{
  "@context": "http://schema.org/",
  "@type": "Article",
  "headline": "Homepage",
  "datePublished": "",
  "dateModified": "2019-08-02T23:31:43Z",
  "description": "mdsh - a simple static site generator for modern websites, written in Bash.",
  "keywords": "mdsh, static site generator, project page, open source, blog, news, feed",
  "image": {
    "@type": "ImageObject",
    "height": "512",
    "width": "512",
    "url": "https://sc0ttj.github.io/mdsh/assets/icons/android-chrome-512x512.png"
  },
  "author": "sc0ttj",
  "publisher": {
    "@type": "Organization",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sc0ttj.github.io/mdsh/assets/icons/android-chrome-512x512.png"
    },
    "name": "mdsh"
  },
  "mainEntityOfPage": "https://sc0ttj.github.io/mdsh#content",
  "articleBody": "mdsh - a simple static site generator for modern websites, written in Bash."
}
</script>
<script id="breadcrumb-ld" type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement":
  [
    {
      "@type": "ListItem",
      "position": 1,
      "item":
      {
        "@id": "https://sc0ttj.github.io/mdsh",
        "name": "Mdsh"
      }
    }
  ]
}
</script>
<script id="itemlist-ld" type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "ItemList",
  "itemListElement":
  [
    {
      "@type": "ListItem",
      "position": 1,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/07/13/liquid-filters.html"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/07/01/faster-site-rebuilds.html"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/06/29/adding-support-for-more-embedded-languages.html"
    },
    {
      "@type": "ListItem",
      "position": 4,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/06/24/new-syntax-for-embedding-shell-script-in-your-markdown.html"
    },
    {
      "@type": "ListItem",
      "position": 5,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/05/26/post-excerpts.html"
    },
    {
      "@type": "ListItem",
      "position": 6,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/05/26/new-site-navigation.html"
    },
    {
      "@type": "ListItem",
      "position": 7,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/05/22/mustache-templating.html"
    },
    {
      "@type": "ListItem",
      "position": 8,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/03/31/more-responsive-pages.html"
    },
    {
      "@type": "ListItem",
      "position": 9,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/03/31/improving-structured-data.html"
    },
    {
      "@type": "ListItem",
      "position": 10,
      "url": "https://sc0ttj.github.io/mdsh/posts/2019/03/27/syntax-highlighting-using-pygments.html"
    }
  ]
}
</script>
<!-- RSS feed -->
<link rel="alternate" type="application/rss+xml" title="Subscribe to mdsh" href="/mdsh/feed.rss">
<!-- SEO stuff -->
<link rel="author" href="/humans.txt">
<link rel="canonical" href="//sc0ttj.github.io/mdsh">
<!-- App icons and favicons -->
<link rel="manifest" href="/mdsh/manifest.webmanifest?v=1564788719">
<link rel="icon" type="image/png" sizes="16x16" href="/mdsh/assets/icons/favicon-16x16.png?v=1564788719">
<link rel="icon" type="image/png" sizes="32x32" href="/mdsh/assets/icons/favicon-32x32.png?v=1564788719">
<link rel="icon" type="image/png" sizes="192x192" href="/mdsh/assets/icons/android-chrome-192x192.png?v=1564788719">
<link rel="icon" type="image/vnd.microsoft.icon" href="/mdsh/assets/icons/favicon.ico?v=1564788719">
<link rel="apple-touch-icon" sizes="180x180" href="/mdsh/assets/icons/apple-touch-icon.png?v=1564788719">
<link rel="shortcut icon" href="/mdsh/assets/icons/favicon.ico?v=1564788719">
<link rel="mask-icon" color="#444444" href="/mdsh/assets/icons/safari-pinned-tab.svg?v=1564788719">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-config" content="/mdsh/assets/icons/browserconfig.xml?v=1564788719">
<meta name="theme-color" content="#101010">
<!-- Fallback app name, for legacy browsers -->
<meta name="application-name" content="mdsh">
<!-- prefetch resources -->
<link rel="dns-prefetch" href="//unpkg.com">
<link rel="preconnect"   href="//unpkg.com" crossorigin>
<!-- site css -->
<style>/* inline styles go here */</style>
<link rel="stylesheet" href="/mdsh/assets/css/main.min.css?v=1564788719">

<!-- pygments (syntax highlighting) -->
<link rel="stylesheet" href="/mdsh/assets/css/pygments-monokai.min.css?v=1564788719">
<script>
// enable styling of some HTML elements in IE < 9
document.createElement("picture");
document.createElement("time");
</script>
<script class="unpkg" defer src="//unpkg.com/cash-dom@2.3.9/dist/cash.min.js"></script>
<script class="unpkg" defer src="//unpkg.com/jets@0.14.1/jets.min.js"></script>

<!-- main javascript app -->
<script id="appjs" defer src="/mdsh/assets/js/app.js?v=1564788720"></script>
</head>
<body class="no-js  homepage">
  <div class="main-container">
    <div class="site-header">
  <h1><a href="/mdsh">mdsh</a></h1>
  <input type="search" class="site-search" id="site-search" placeholder="search.." />
  <a class="off-screen skip-to-content" href="#content">Skip to content</a>
  <ul>
      <li><a href="/mdsh/about.html">about</a></li>      <li><a href="/mdsh/archive.html">archive</a></li>      <li><a href="/mdsh/contact.html">contact</a></li>      <li><a href="/mdsh/search.html">search</a></li>  </ul>
</div>
    <div class="body-container">
      <div id="content" class="main-content">

        <h2>Homepage</h2>


        <div class="page-preview">
  <h2><a href="/mdsh/posts/2019/07/13/liquid-filters.html">Liquid Filters</a></h2>
  <time datetime="2019-07-13T23:56:01Z">2019-07-13
</time>
  <ul class="page-meta">
    <li class="time-to-read">8 mins</li>
    <li class="date"><time datetime="2019-07-13T23:56:01Z">2019-07-13
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/mustache.html">mustache</a>
        </li>
        <li>
          <a href="/mdsh/tags/markdown.html">markdown</a>
        </li>
        <li>
          <a href="/mdsh/tags/liquid-templating.html">liquid-templating</a>
        </li>
      </ul>
    </li>
  </ul>
  <p><code>mdsh</code> now has a new feature, inspired by <a href="https://help.shopify.com/en/themes/liquid/filters">Liquid filters</a>.</p>

<p>The <a href="https://shopify.github.io/liquid/">Liquid templating</a> system was created by <a href="https://www.shopify.co.uk/">Shopify</a>
and is used in the templating system of <a href="https://jekyllrb.com/">Jekyll</a>.</p>

<p>Here's a description of "liquid filters" from the <a href="https://help.shopify.com/en/themes/liquid/filters">liquid filters documentation</a>:</p>

<blockquote>
  <p>Filters are simple methods that modify the output of numbers, strings,
variables and objects. They are placed within an output tag {{ }} and are
denoted by a pipe character |.</p>
</blockquote>

<p>As <code>mdsh</code> is written in shell, and uses <a href="https://github.com/tests-always-included/mo"><code>mo</code></a>
as its <a href="https://mustache.github.io/mustache.5.html">Mustache</a> library, I've
implemented a rip-off version of liquid filters.</p>

<p>You can use the filters in your <code>.mustache</code> templates files, and in your <code>.mdsh</code>
source files. You pass the variables through a filter using the pipe symbol <code>|</code>.</p>

<h3>Usage and examples:</h3>

<h4>1. Template usage</h4>

<p><strong>Filtering basic page data (strings):</strong></p>

<div class="highlight"><pre><span></span><span class="x">&lt;h2&gt;</span><span class="cp">{{</span><span class="nv">page_name</span> <span class="err">|</span> <span class="nv">uppercase</span><span class="cp">}}</span><span class="x">&lt;/h2&gt;</span>
</pre></div>

<p>^ this will output the page title in upper case.</p>

<p>Here is a more advanced example:</p>

<div class="highlight"><pre><span></span><span class="x">&lt;h2&gt;</span><span class="cp">{{</span><span class="nv">page_name</span> <span class="err">|</span> <span class="nv">truncate_words</span> <span class="m">6</span> <span class="s2">&quot;..&quot;</span> <span class="err">|</span> <span class="nv">strip_newlines</span><span class="cp">}}</span><span class="x">&lt;/h2&gt;</span>
</pre></div>

<p>^ this will truncate to 6 words, and append <code>..</code> if truncated, and strip new lines.</p>

<p>These filters also can also be applied to whole sections (if you must!):</p>

<div class="highlight"><pre><span></span><span class="cp">{{</span><span class="nv">page_header</span> <span class="err">|</span> <span class="nv">strip_html</span><span class="cp">}}</span><span class="x"></span>
</pre></div>

<p><strong>Filtering arrays:</strong></p>

<p>In your templates various places use arrays to iterate over lists, such as
recent posts. These lists can also be "filtered", in much the same way as the
page data variables described above.</p>

<p>In your templates, normal <code>arrays</code> work as iterators, that can also take filters.</p>

<p>For example:</p>

<div class="highlight"><pre><span></span><span class="cp">{{</span><span class="nf">#someArray</span> <span class="err">|</span> <span class="nv">sort_array</span> <span class="nv">desc</span> <span class="err">|</span> <span class="nv">limit</span> <span class="m">3</span><span class="cp">}}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{{</span><span class="err">.</span> <span class="err">|</span> <span class="nv">titlecase</span><span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span><span class="nf">/someArray</span><span class="cp">}}</span><span class="x"></span>
</pre></div>

<p>Associative arrays (like <code>ITEMS</code>, used in <code>mdsh</code>) also work:</p>

<div class="highlight"><pre><span></span><span class="cp">{{</span><span class="nf">#someAssocArray</span> <span class="err">|</span> <span class="nv">sort_by</span> <span class="s2">&quot;age&quot;</span> <span class="s2">&quot;asc&quot;</span> <span class="err">|</span> <span class="nv">limit</span> <span class="m">3</span><span class="cp">}}</span><span class="x"></span>
<span class="x">  Hi </span><span class="cp">{{</span><span class="nv">item.name</span> <span class="err">|</span> <span class="nv">titlecase</span><span class="cp">}}</span><span class="x">,</span>
<span class="x">  at </span><span class="cp">{{</span><span class="nv">item.address</span> <span class="err">|</span> <span class="nv">uppercase</span> <span class="err">|</span> <span class="nv">newline_to_br</span><span class="cp">}}</span><span class="x"></span>
<span class="cp">{{</span><span class="nf">/someArray</span><span class="cp">}}</span><span class="x"></span>
</pre></div>

<h4>2. Markdown usage</h4>

<p>You can even use them in the sub-shells of your <code>*.mdsh</code> source files:</p>

<div class="highlight"><pre><span></span>&lt; ?bash <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$something</span><span class="s2">&quot;</span> <span class="p">|</span> replace_all foo bar <span class="p">;</span>? &gt;
</pre></div>

<p><br></p>

<p><a href="/mdsh/posts/2019/07/13/liquid-filters.html">Read more about "Liquid Filters"...</a></p>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/07/01/faster-site-rebuilds.html">Faster site rebuilds</a></h2>
  <time datetime="2019-07-01T20:20:49Z">2019-07-01
</time>
  <ul class="page-meta">
    <li class="time-to-read">3 mins</li>
    <li class="date"><time datetime="2019-07-01T20:20:49Z">2019-07-1
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/shell.html">shell</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>Re-building your site is now faster than before, thanks to a few improvements
made in the <a href="https://github.com/sc0ttj/mdsh/commit/8d904dff7f5a6829f9db92926d75f1ab4e077fd3">latest commit</a>:</p>

<ul>
<li>rebuild only the relevant index pages after creating a new post</li>
<li>cache parts of the site which dont change during a site build:
<ul>
<li>site header</li>
<li>site navigation</li>
<li>site footer</li>
</ul></li>
</ul>

<p>Other fixes added in this commit include:</p>

<ul>
<li>updated help info in various scripts</li>
<li>keep onwards journeys of all posts up-to-date when adding a new post</li>
</ul>

<p><a href="/mdsh/posts/2019/07/01/faster-site-rebuilds.html">Read more about "Faster site rebuilds"...</a></p>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/06/29/adding-support-for-more-embedded-languages.html">Adding support for more embedded languages</a></h2>
  <time datetime="2019-06-29T10:20:21Z">2019-06-29
</time>
  <ul class="page-meta">
    <li class="time-to-read">2 mins</li>
    <li class="date"><time datetime="2019-06-29T10:20:21Z">2019-06-29
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/markdown.html">markdown</a>
        </li>
        <li>
          <a href="/mdsh/tags/shell.html">shell</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>After the latest update, <code>mdsh</code> now lets you embed languages other than Bash in
your Markdown, when writing your posts or pages.</p>

<p>The syntax for embedding dynamic content in your pages using Bash is:</p>

<div class="highlight"><pre><span></span>&lt;?bash
// some Bash code
<span class="p">;</span>?&gt;
</pre></div>

<p>And now you can replace the <code>bash</code> bit with the name of any of these other
languages: <code>ash</code>, <code>awk</code>, <code>c</code>, <code>dash</code>, <code>gawk</code>, <code>node</code>, <code>nodejs</code>, <code>perl</code>, <code>php</code>, <code>python</code>, <code>ruby</code>.</p>

<p>For example, to include the output of some Ruby code in your Markdown, you would
do this:</p>

<div class="highlight"><pre><span></span>&lt;?ruby
puts <span class="s2">&quot;hello world&quot;</span>
<span class="p">;</span>?&gt;
</pre></div>

<p><a href="/mdsh/posts/2019/06/29/adding-support-for-more-embedded-languages.html">Read more about "Adding support for more embedded languages"...</a></p>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/06/24/new-syntax-for-embedding-shell-script-in-your-markdown.html">New syntax for embedding Shell script..</a></h2>
  <time datetime="2019-06-24T20:18:10Z">2019-06-24
</time>
  <ul class="page-meta">
    <li class="time-to-read">3 mins</li>
    <li class="date"><time datetime="2019-06-24T20:18:10Z">2019-06-24
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/bash.html">bash</a>
        </li>
        <li>
          <a href="/mdsh/tags/markdown.html">markdown</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>I've created a new way of embedding Bash sub-shells in your Markdown.</p>

<p>Previously, you would add something like <code>some markdown text $( your_bash_code )
and more text</code> in order to embed Bash (shell) scripting in your Markdown files -
that is you had to use the regular <code>$()</code> syntax familiar to all shell scripters.</p>

<p>However, this was a problem - parsing the Markdown, and the sub shell code in
particular, created errors because of sub-shell invocations <em>within</em> the
sub-shell code. In other words, trying to parse the embedded bash code was not
working right, cos <code>$()</code> is too commonly found <em>within</em> the returned code, and
my coding is crappy.</p>

<p>So, here is the change: your sub-shells must now be invoked using a custom
syntax, not used by any official languages/scripts/etc, and stolen from the
<a href="https://github.com/tinoschroeter/bash_on_steroids">Bash-On-Steroids</a> project.</p>

<p>Here is the new way of invoking Bash sub-shells in your Markdown:</p>

<div class="highlight"><pre><span></span>&lt;<span class="c1">#bash</span>
// your shell code here
// cat some file, or run a <span class="k">function</span>, or something..
<span class="nb">echo</span> hi
<span class="p">;</span><span class="c1">#&gt;</span>
</pre></div>

<p>Or, you can do it like this as well:</p>

<div class="highlight"><pre><span></span>..a sentence about OS &lt; ?bash uname <span class="p">;</span>? &gt; and user &lt; ?bash whoami <span class="p">;</span>? &gt;.
</pre></div>

<p>Which would produce something like:</p>

<div class="highlight"><pre><span></span>..a sentence about OS Linux and user bob.
</pre></div>

<p>Don't forget - the sub-shell invokations (as above) go in your <code>.mdsh</code> files
(the files created when you run <code>new post</code> or <code>new page</code>), and <em>the evaluated
output</em> of those sub-shells will appear in the final HTML files.</p>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/05/26/post-excerpts.html">Post excerpts</a></h2>
  <time datetime="2019-05-26T17:29:07Z">2019-05-26
</time>
  <ul class="page-meta">
    <li class="time-to-read">2 mins</li>
    <li class="date"><time datetime="2019-05-26T17:29:07Z">2019-05-26
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/blog.html">blog</a>
        </li>
        <li>
          <a href="/mdsh/tags/markdown.html">markdown</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>There is now an easier way to show only portions or excerpts of your blog posts on your homepage, and any other areas of your site where you wish to show or preview your posts content.</p>

<p>To mark the point at which your post should be truncated when being previewed, I have shamelessly stolen the <code>&lt;!–– more ––&gt;</code> marker idea used in Jekyll.</p>

<h3>How to create a post excerpt</h3>

<p>When writing the markdown for your blog post, you can simply include <code>&lt;!–– more ––&gt;</code> on any line, and everything after that line will be removed in post previews (such as those on the Homepage). A "Read more about X..." link will appear at the end of the preview instead of <code>&lt;!–– more ––&gt;</code>.</p>

<p><a href="/mdsh/posts/2019/05/26/post-excerpts.html">Read more about "Post excerpts"...</a></p>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/05/26/new-site-navigation.html">New site navigation</a></h2>
  <time datetime="2019-05-26T17:56:41Z">2019-05-26
</time>
  <ul class="page-meta">
    <li class="time-to-read">2 mins</li>
    <li class="date"><time datetime="2019-05-26T17:56:41Z">2019-05-26
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/blog.html">blog</a>
        </li>
        <li>
          <a href="/mdsh/tags/mustache.html">mustache</a>
        </li>
        <li>
          <a href="/mdsh/tags/shell.html">shell</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>To improve site navigation, I've added a new template to <code>mdsh</code>, which produces a nice menu for easier website navigation - it lists the main pages (<code>.html</code> pages in the root dir, exluding <code>index.html</code> and <code>404.html</code>), most recent blog posts, as well as the sites categories and tags.</p>

<p>You can see this site navigation section in the footer of this page.</p>

<p><a href="/mdsh/posts/2019/05/26/new-site-navigation.html">Read more about "New site navigation"...</a></p>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/05/22/mustache-templating.html">Mustache templating</a></h2>
  <time datetime="2019-05-22T05:42:08Z">2019-05-22
</time>
  <ul class="page-meta">
    <li class="time-to-read">4 mins</li>
    <li class="date"><time datetime="2019-05-22T05:42:08Z">2019-05-22
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/blog.html">blog</a>
        </li>
        <li>
          <a href="/mdsh/tags/mustache.html">mustache</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>I've totally re-written <code>mdsh</code>. It now uses a Mustache templating system, which makes it much easier to edit, manage and create layouts for your pages.</p>

<p>Template files live in <code>.app/templates/</code>, sorted by type into folders - <code>html</code>, <code>js</code>, etc.</p>

<h3>The basics</h3>

<p>The templates require various variables to be set before they are used - collectively we can call these variables the "page data":</p>

<div class="highlight"><pre><span></span>page_header
page_lang
page_title
page_slug
page_descr
page_category
page_created
page_modified
page_time_to_read
page_keywords
page_author
page_author_slug
page_twitter
page_js_deps
page_google_analytics_id
page_url
</pre></div>

<p>Here is an example template which uses some of the page data above:</p>

<div class="highlight"><pre><span></span>&lt;h2&gt;<span class="o">{{</span>page_title<span class="o">}}</span>&lt;/h2&gt;
&lt;p&gt;<span class="o">{{</span>page_descr<span class="o">}}</span>&lt;/p&gt;
</pre></div>

<p><a href="/mdsh/posts/2019/05/22/mustache-templating.html">Read more about "Mustache templating"...</a></p>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/03/31/more-responsive-pages.html">More responsive pages</a></h2>
  <time datetime="2019-03-31T06:54:14Z">2019-03-31
</time>
  <ul class="page-meta">
    <li class="time-to-read">1 min</li>
    <li class="date"><time datetime="2019-03-31T06:54:14Z">2019-03-31
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/css.html">css</a>
        </li>
        <li>
          <a href="/mdsh/tags/javascript.html">javascript</a>
        </li>
        <li>
          <a href="/mdsh/tags/blog.html">blog</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>Each page created using <code>mdsh</code> now gives you some extra CSS classes to work with, so you can more easily target specific browsers and devices.</p>

<p>The classes are added to (or removed from) the <code>&lt;body&gt;</code> tag of each post or page created, and are as follows:</p>

<ul>
<li><code>no-js</code> - added to all pages at build time, removed by <code>app.js</code> when it loads</li>
<li><code>touchscreen</code> - added by <code>app.js</code> if users device is a touchscreen device</li>
<li><code>low-battery</code> - added by <code>app.js</code> if a battery with low remaining charge is detected</li>
<li><code>webgl</code> - added by <code>app.js</code> if the users browser supports WebGL</li>
</ul>

<p>You can use these classes in your CSS to do things such as:</p>

<ul>
<li>show/hide content from users don't have JavaScript enabled</li>
<li>enable/disable animations for (non) WebGL enabled browsers</li>
<li>disable features/animations for users with low battery % remaining</li>
<li>and so on</li>
</ul>

<p>Some other classes are added to <code>&lt;body&gt;</code> at build time, which help you style pages and categories individually:</p>

<ul>
<li>the category name is added to <code>&lt;body&gt;</code> as <code>.category-{name}</code></li>
<li>the page slug name is added to <code>&lt;body&gt;</code>, for example <code>.my-cool-page</code></li>
</ul>

<p>You can then target individual categories or pages in your CSS like so:</p>

<div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">category-main</span> <span class="p">.</span><span class="nc">main-container</span> <span class="p">{</span>
  <span class="c">/* styles that only affect the pages category main */</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">my-cool-page</span> <span class="p">.</span><span class="nc">post-header</span> <span class="p">{</span>
  <span class="c">/* styles for only my-cool-page.html */</span>
<span class="p">}</span>
</pre></div>

<p>Hopefully these changes make it easier to customise your site for your users in a more granular and responsive way.</p>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/03/31/improving-structured-data.html">Improving structured data</a></h2>
  <time datetime="2019-03-31T05:42:08Z">2019-03-31
</time>
  <ul class="page-meta">
    <li class="time-to-read">2 mins</li>
    <li class="date"><time datetime="2019-03-31T05:42:08Z">2019-03-31
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/blog.html">blog</a>
        </li>
        <li>
          <a href="/mdsh/tags/seo.html">seo</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>I've updated the index pages generated by <code>mdsh</code> so that each now includes an <code>ItemList</code> object.</p>

<p>In practice it means, the content listed on the index pages can now be understood better by search engines.</p>

<p>It also increases the likelihood of search engines listing your pages with nice carousels, so mobile users can more easily find more content on your site.</p>

<p>The <code>ItemList</code> objects are added to the <code>&lt;head&gt;</code> of each index page generated, using a new script, <code>.app/itemlist</code>.</p>

<p>Here is the contents of <code>.app/itemlist</code>:</p>

<div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="o">[</span> ! <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> -z <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">exit</span> <span class="m">1</span>

. .site_config

<span class="nv">list_items</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>

<span class="c1"># start JSON-ld itemList</span>
<span class="nb">echo</span> <span class="s1">&#39;&lt;script id=&quot;itemlist-ld&quot; type=&quot;application/ld+json&quot;&gt;</span>
<span class="s1">{</span>
<span class="s1">  &quot;@context&quot;: &quot;http://schema.org&quot;,</span>
<span class="s1">  &quot;@type&quot;: &quot;ItemList&quot;,</span>
<span class="s1">  &quot;itemListElement&quot;: [&#39;</span>

<span class="c1"># set vars used in loop below</span>
<span class="nv">i</span><span class="o">=</span><span class="m">1</span><span class="p">;</span>

<span class="c1"># for each item in URL, build ListItem</span>
<span class="nv">item_count</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$list_items</span><span class="s2">&quot;</span><span class="p">|</span> wc -l<span class="sb">`</span>

<span class="k">for</span> item in <span class="nv">$list_items</span>
<span class="k">do</span>
  <span class="c1"># print the ListItem</span>
  <span class="nb">echo</span> -n <span class="s1">&#39;  {</span>
<span class="s1">    &quot;@type&quot;: &quot;ListItem&quot;,</span>
<span class="s1">    &quot;position&quot;: &#39;</span><span class="nv">$i</span><span class="s1">&#39;,</span>
<span class="s1">    &quot;url&quot;: &quot;https://&#39;</span><span class="si">${</span><span class="nv">blog_domain</span><span class="si">}${</span><span class="nv">blog_url</span><span class="si">}</span>/<span class="si">${</span><span class="nv">item</span><span class="p">//.mdsh/.html</span><span class="si">}</span><span class="s1">&#39;&quot;</span>
<span class="s1">  }&#39;</span>
  <span class="o">[</span> <span class="nv">$i</span> -le <span class="nv">$item_count</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s1">&#39;,&#39;</span>
<span class="k">done</span>

<span class="c1"># end JSON-ld</span>
<span class="nb">echo</span> <span class="s1">&#39;]</span>
<span class="s1">}&lt;/script&gt;&#39;</span>
</pre></div>
</div><div class="page-preview">
  <h2><a href="/mdsh/posts/2019/03/27/syntax-highlighting-using-pygments.html">Syntax highlighting using Pygments</a></h2>
  <time datetime="2019-03-27T04:41:25Z">2019-03-27
</time>
  <ul class="page-meta">
    <li class="time-to-read">2 mins</li>
    <li class="date"><time datetime="2019-03-27T04:41:25Z">2019-03-27
</time></li>
    <li class="author">sc0ttj</li>
    <li class="twitter">@foobar</li>
    <li class="category"><a href="/mdsh/categories/blog.html">blog</a></li>
    <li>
      <ul class="tags">
        <li>
          <a href="/mdsh/tags/blog.html">blog</a>
        </li>
        <li>
          <a href="/mdsh/tags/pygments.html">pygments</a>
        </li>
      </ul>
    </li>
  </ul>
  <p>I've added a new feature to <code>mdsh</code>: syntax highlighting for code blocks.</p>

<p>A new option has been added to <code>.site_config</code>, which lets you choose the highlighing theme - currently only <code>monokai</code> is supported, so is set as the default theme.</p>

<h3>Setup syntax highlighting</h3>

<p>To get it working, you simpy need to install <code>Pygments</code>, and then <code>mdsh</code> will do the rest!</p>

<p>You can install Pygments using the <code>pip</code> package manager, if you have it installed:</p>

<div class="highlight"><pre><span></span><span class="go">pip install Pygments</span>
</pre></div>

<p>Or, if you don't have <code>pip</code> installed, on Ubuntu and Debian, you can install <code>Pygments</code> like so:</p>

<div class="highlight"><pre><span></span><span class="go">sudo apt-get install python3-pygments</span>
</pre></div>

<h3>Using syntax highlighting</h3>

<p>When you create or edit a blog post or page, you should create the code block using the GitHub flavoured extension, supplying the language name after the triple backticks ("code fences").</p>

<p>Here is an example block of <code>shell</code> code:</p>

<div class="highlight"><pre><span></span> <span class="nv">var</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span>
 <span class="nb">echo</span> <span class="si">${</span><span class="nv">var</span><span class="p">//foo/bar</span><span class="si">}</span> <span class="c1"># outputs &#39;bar&#39;</span>
</pre></div>

<p>Disclaimer: Pygments is quite slow - large code blocks may take a while to process, and the highlighted HTML output is a larger filesize than without.</p>

<h3>Further improvements</h3>

<ul>
<li>add more themes as <code>assets/css/pygments-{theme}.css</code></li>
<li>the theme can then be changed using <code>setup</code> or by editing <code>.site_config</code></li>
<li>allow setting Pygments options, such as headers, line numbers, etc.</li>
</ul>
</div>


      </div>
    </div>
    <ul id="site-navigation" class="site-navigation">

  <li class="site-navigation--main-pages">
    <h3>Pages</h3>
    <ul>
      <li><a href="/mdsh/about.html">about</a></li>      <li><a href="/mdsh/archive.html">archive</a></li>      <li><a href="/mdsh/contact.html">contact</a></li>      <li><a href="/mdsh/search.html">search</a></li>    </ul>
  </li>

  <li class="site-navigation--recent-posts">
    <h3>Recent posts</h3>
    <ul>
      <li><a href="/mdsh/posts/2019/07/13/liquid-filters.html">Liquid Filters</a></li>      <li><a href="/mdsh/posts/2019/07/01/faster-site-rebuilds.html">Faster site rebuilds</a></li>      <li><a href="/mdsh/posts/2019/06/29/adding-support-for-more-embedded-languages.html">Adding support for more embedded languages</a></li>      <li><a href="/mdsh/posts/2019/06/24/new-syntax-for-embedding-shell-script-in-your-markdown.html">New syntax for embedding Shell script in your Markdown</a></li>      <li><a href="/mdsh/posts/2019/05/26/post-excerpts.html">Post excerpts</a></li>    </ul>
  </li>

  <li class="site-navigation--categories">
    <h3>Categories</h3>
    <ul>
      <li>
        <a href="/mdsh/categories/blog.html">blog</a>
      </li>      <li>
        <a href="/mdsh/categories/games.html">games</a>
      </li>    </ul>
  </li>

  <li class="site-navigation--tags">
    <h3>Tags</h3>
    <div>
      <a href="/mdsh/tags/bash.html">bash</a>,
      <a href="/mdsh/tags/blog.html">blog</a>,
      <a href="/mdsh/tags/bsd.html">bsd</a>,
      <a href="/mdsh/tags/css.html">css</a>,
      <a href="/mdsh/tags/csv.html">csv</a>,
      <a href="/mdsh/tags/games.html">games</a>,
      <a href="/mdsh/tags/git.html">git</a>,
      <a href="/mdsh/tags/gnu.html">gnu</a>,
      <a href="/mdsh/tags/html.html">html</a>,
      <a href="/mdsh/tags/javascript.html">javascript</a>,
      <a href="/mdsh/tags/js.html">js</a>,
      <a href="/mdsh/tags/json-ld.html">json-ld</a>,
      <a href="/mdsh/tags/linux.html">linux</a>,
      <a href="/mdsh/tags/liquid-templating.html">liquid-templating</a>,
      <a href="/mdsh/tags/markdown.html">markdown</a>,
      <a href="/mdsh/tags/mdsh.html">mdsh</a>,
      <a href="/mdsh/tags/mustache.html">mustache</a>,
      <a href="/mdsh/tags/osx.html">osx</a>,
      <a href="/mdsh/tags/pygments.html">pygments</a>,
      <a href="/mdsh/tags/rss.html">rss</a>,
      <a href="/mdsh/tags/search.html">search</a>,
      <a href="/mdsh/tags/sed.html">sed</a>,
      <a href="/mdsh/tags/seo.html">seo</a>,
      <a href="/mdsh/tags/shell.html">shell</a>,
      <a href="/mdsh/tags/xml.html">xml</a>    </div>
  </li>

</ul>
<div class="footer">
  <p>© mdsh, 2019. Powered by <a href="https://sc0ttj.github.io/mdsh/">mdsh</a></p>
</div>
  </div>
</body>
</html>
